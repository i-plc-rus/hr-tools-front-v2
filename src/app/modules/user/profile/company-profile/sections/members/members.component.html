<mat-toolbar class="toolbar">
  <div class="title-container">
    <span>Участники</span>
    <div class="badge">3</div>
  </div>
  <span class="spacer"></span>
  <button mat-flat-button class="btn-secondary">+ Добавить участника</button>
</mat-toolbar>

<table mat-table [dataSource]="participants" class="mat-elevation-z2 full-width">

  <ng-container matColumnDef="avatar">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let participant">
      <div class="avatar-container">
        <img *ngIf="participant.avatar; else noAvatar" [src]="participant.avatar" alt="Avatar" class="avatar">
        <ng-template #noAvatar>
          <div class="w-full h-full flex items-center justify-center bg-gray-200 rounded-full">
            <mat-icon svgIcon="ic-person" class="text-gray-500 text-2xl"></mat-icon>
          </div>
        </ng-template>
      </div>
    </td>
  </ng-container>


  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>
      <div class="header-container">
        ФИО
        <mat-icon class="sort-icon">swap_vert</mat-icon>
      </div>
    </th>
    <td mat-cell *matCellDef="let participant">
      {{ participant.name }}
    </td>
  </ng-container>

  <ng-container matColumnDef="contacts">
    <th mat-header-cell *matHeaderCellDef>Контакты</th>
    <td mat-cell *matCellDef="let participant">
      {{ participant.phone }} <br>
      <span class="email">{{ participant.email }}</span>
    </td>
  </ng-container>

  <ng-container matColumnDef="role">
    <th mat-header-cell *matHeaderCellDef>Роль</th>
    <td mat-cell *matCellDef="let participant">
      {{ participant.role }}
    </td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let participant">
      <div class="actions-container" [ngClass]="{'visible': clickedRows.has(participant)}">
        <button mat-icon-button>
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: displayedColumns;"
    (click)="toggleRow(row)"
    [ngClass]="{'clicked': clickedRows.has(row)}"
  ></tr>

</table>
